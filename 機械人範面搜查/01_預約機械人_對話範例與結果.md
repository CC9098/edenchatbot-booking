# 方向一：預約機械人（Booking Bot）

## 指令設計重點
- 目標：幫病人完成「新預約、改期、取消、查詢可用時段」。
- 必要資料：姓名、電話、服務類型、日期時間偏好。
- 安全邊界：涉及急症或高風險症狀時，不作醫療診斷，會即時建議求醫。
- 回覆風格：短句、確認式提問、每步都有明確下一步。

---

## 範例A：標準新預約（資料齊全）

### 你可以咁講
「我想預約下星期三下午做初診，我叫陳大文，電話91234567。」

### 機械人判斷
- 意圖：新預約
- 槽位資料：
  - 姓名：陳大文
  - 電話：91234567
  - 服務：初診
  - 時段偏好：下星期三下午

### 會產生嘅結果
- 系統查可用時段，回覆2-3個可選時間。
- 你揀其中一個後，機械人建立預約並發確認訊息。

### 對話示例
病人：我想預約下星期三下午做初診，我叫陳大文，電話91234567。
機械人：收到，陳先生。下星期三下午初診可選時段有兩點、三點半、五點。你想揀邊個時間？
病人：三點半。
機械人：已為你保留下星期三下午三點半初診，稍後會收到確認短訊及電郵。

---

## 範例B：資料不足（會追問）

### 你可以咁講
「幫我約星期五。」

### 機械人判斷
- 意圖：新預約（但資訊不足）
- 缺少資料：服務類型、時段、姓名、聯絡方法

### 會產生嘅結果
- 機械人逐步補問，唔會直接落實預約。

### 對話示例
病人：幫我約星期五。
機械人：可以，請問你想做初診、覆診，定針灸治療？
病人：覆診。
機械人：明白。你偏好上午、下午定晚上？另外請提供姓名同電話，方便確認預約。

---

## 範例C：指定時段已滿（會提供替代）

### 你可以咁講
「我一定要星期二七點。」

### 機械人判斷
- 意圖：新預約
- 約束：指定時間非常明確
- 查詢結果：指定時段不可用

### 會產生嘅結果
- 不會直接拒絕；先給最近可行替代方案。

### 對話示例
病人：我一定要星期二七點。
機械人：星期二七點已滿。最接近時間有六點半同七點半；另外星期三七點仲有位。你想揀邊個？

---

## 範例D：改期

### 你可以咁講
「我想改我星期四嗰個覆診去星期六朝早。」

### 機械人判斷
- 意圖：改期
- 先定位舊預約，再搜尋新時段

### 會產生嘅結果
- 成功：更新日曆並發新確認
- 失敗：保留原預約，提供候補時段

### 對話示例
病人：我想改我星期四嗰個覆診去星期六朝早。
機械人：可以，先幫你核對身份。請提供電話尾四位。
病人：4567。
機械人：核對到你星期四下午四點覆診。星期六朝早可改去十點或十一點，你想揀邊個？

---

## 範例E：取消

### 你可以咁講
「取消我聽日個預約。」

### 機械人判斷
- 意圖：取消預約
- 需身份確認

### 會產生嘅結果
- 取消成功後，回覆取消編號，並提醒可再預約。

### 對話示例
病人：取消我聽日個預約。
機械人：可以。請提供預約姓名同電話，完成核對後會即時為你取消。

---

## 範例F：超出範圍（醫療急症）

### 你可以咁講
「我胸口痛同呼吸困難，點算？」

### 機械人判斷
- 意圖：高風險醫療求助
- 規則：立即安全分流，不進行一般預約流程

### 會產生嘅結果
- 優先建議即時求醫或致電緊急服務。

### 對話示例
病人：我胸口痛同呼吸困難，點算？
機械人：你嘅情況可能屬急症，請即時致電999或前往最近急症室。需要我同時幫你通知診所職員跟進嗎？

---

## 範例G：語意含糊（會先釐清）

### 你可以咁講
「下星期幫我搞掂。」

### 機械人判斷
- 意圖：不確定（可能係預約/改期/查詢）

### 會產生嘅結果
- 先用選擇題釐清任務，再進入正確流程。

### 對話示例
病人：下星期幫我搞掂。
機械人：冇問題。你係想（1）新預約、（2）改期、定（3）取消預約？

---

## 快速對照：你點講會有咩結果
- 「我想預約 + 日期 + 服務 + 聯絡」→ 直接進入可用時段建議，最快完成落單。
- 「只講日期」→ 會被追問，不會即時成立預約。
- 「指定時間已滿」→ 會收到鄰近時段替代方案。
- 「改期/取消」→ 必須先做身份核對。
- 「急症症狀」→ 觸發安全分流，優先建議即時求醫。
