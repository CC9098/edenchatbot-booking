# AI Chatbot
GEMINI_API_KEY=
CHAT_STREAMING_ENABLED=false
NEXT_PUBLIC_CHAT_STREAMING_ENABLED=false
CHAT_V2_SEMANTIC_ROUTER_ENABLED=true
CHAT_V2_SEMANTIC_ROUTER_CONFIDENCE=0.75
CHAT_V2_SEMANTIC_ROUTER_TIMEOUT_MS=220
CHAT_V2_SEMANTIC_ROUTER_BOUNDARY_ONLY_ENABLED=true
CHAT_V2_SEMANTIC_ROUTER_BOUNDARY_MIN_LEN=130
CHAT_V2_SEMANTIC_ROUTER_BOUNDARY_MAX_LEN=200
CHAT_V2_TASK_INTENT_OVERRIDE_ENABLED=true
CHAT_V2_OUTPUT_CONTRACT_GUARD_ENABLED=true
CHAT_V2_B_SHORT_FOLLOWUP_FASTPATH_ENABLED=true
CHAT_V2_BOOKING_ALIAS_RESOLUTION_ENABLED=true
CHAT_V2_PROMPT_BUDGET_ENABLED=true
CHAT_V2_PROMPT_BUDGET_B_MAX_TURNS=6
CHAT_V2_PROMPT_BUDGET_G_MAX_TURNS=8
CHAT_V2_PROMPT_BUDGET_B_MAX_CHARS=2200
CHAT_V2_PROMPT_BUDGET_G_MAX_CHARS=3600
CHAT_V2_B_TOOL_POLICY_ENABLED=true
CHAT_V2_B_TOOL_MAX_ROUNDS=1
CHAT_V2_B_RESPONSE_TEMPLATE_ENABLED=true
CHAT_V2_B_RESPONSE_MAX_SENTENCES=3
CHAT_V2_G1_CONTEXT_BUDGET_ENABLED=true
CHAT_V2_G1_CONTEXT_TOP_K=2
CHAT_V2_G1_CONTEXT_MAX_CHARS=900
CHAT_V2_G1_CARE_CONTEXT_MAX_CHARS=600
CHAT_V2_NON_TOOL_TASK_BYPASS_ENABLED=true
CHAT_V2_PHASE_TIMING_PROMPT_VARIANT_ENABLED=true

# Cron auth (required in production, used by /api/cron/*)
CRON_SECRET=

# Database (Neon - legacy, will migrate to Supabase)
DATABASE_URL=

# Supabase
SUPABASE_URL=
SUPABASE_SERVICE_ROLE_KEY=
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
# Billing (Stripe)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
# Stripe price id for the default monthly plan
STRIPE_MONTHLY_PRICE_ID=
# Trial window for closed beta / onboarding (days)
MEMBERSHIP_TRIAL_DAYS=14
# Doctor schedule cache TTL in seconds (Supabase -> in-memory cache)
DOCTOR_SCHEDULE_CACHE_TTL_SECONDS=120
# Password gate for /instructiontable (no account signup required)
INSTRUCTIONTABLE_PASSWORD=
# Optional separate secret for session cookie signing (recommended in production)
INSTRUCTIONTABLE_SESSION_SECRET=

# Google Service Integration (Calendar & Gmail)
# Obtaining these requires setting up OAuth2 in Google Cloud Console
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:3000/oauth2callback
GOOGLE_REFRESH_TOKEN=
CLINIC_NOTIFICATION_EMAIL=

# App Base URL (for emails)
BASE_URL=http://localhost:3000
# Optional canonical host redirect (for final merge)
# Example:
# PRIMARY_HOST=edenchatbot-booking.vercel.app
# REDIRECT_HOSTS=your-old-education.vercel.app,old-custom-domain.com
PRIMARY_HOST=
REDIRECT_HOSTS=
# Legacy fallback for follow-ups-overdue (deprecated; use CRON_SECRET)
INTERNAL_CRON_SECRET=

# E2E (Playwright) - use real test accounts, keep secrets in .env.local only
E2E_BASE_URL=https://edenchatbot-booking.vercel.app
E2E_DOCTOR_EMAIL=
E2E_DOCTOR_PASSWORD=
E2E_PATIENT_EMAIL=
E2E_PATIENT_PASSWORD=
E2E_UNRELATED_EMAIL=
E2E_UNRELATED_PASSWORD=

# MCP GitHub Server (Hybrid write mode: direct push by default, auto-PR on high risk)
MCP_GITHUB_PORT=3333
MCP_PUBLIC_BASE_URL=http://localhost:3333
# OAuth issuer URL (must be HTTPS in production)
MCP_AUTH_ISSUER_URL=http://localhost:3333
# OAuth client for ChatGPT -> this MCP server
MCP_OAUTH_CLIENT_ID=
MCP_OAUTH_CLIENT_SECRET=
# Optional dedicated encryption secret for stateless OAuth state/code/access tokens
MCP_OAUTH_CODE_SECRET=
# Optional: allow any OAuth client_id (still validates client_secret)
MCP_OAUTH_ALLOW_ANY_CLIENT_ID=false
# Optional allowlist for redirect origins, comma-separated
# Example: https://chatgpt.com,https://chat.openai.com
MCP_OAUTH_ALLOWED_REDIRECT_ORIGINS=
MCP_ACCESS_TOKEN_TTL_SECONDS=3600
MCP_AUTH_CODE_TTL_SECONDS=300

# GitHub OAuth app credentials (for user sign-in on this MCP server)
GITHUB_OAUTH_CLIENT_ID=
GITHUB_OAUTH_CLIENT_SECRET=
GITHUB_OAUTH_SCOPES=repo read:user

# Fallback static mode (only used when MCP/GitHub OAuth vars above are not set)
GITHUB_TOKEN=
# Optional: GitHub Enterprise API URL, e.g. https://github.your-company.com/api/v3
GITHUB_API_BASE_URL=https://api.github.com
# Optional: GitHub Enterprise OAuth endpoints
# GITHUB_AUTH_URL=https://github.your-company.com/login/oauth/authorize
# GITHUB_TOKEN_URL=https://github.your-company.com/login/oauth/access_token
# Optional allowlist: owner/repo entries, supports owner/* wildcard
GITHUB_ALLOWED_REPOS=
# Protected branches where high-risk changes can trigger auto PR
GITHUB_PROTECTED_BRANCHES=main,master,production
# Optional custom regex list (comma-separated) to define high-risk paths
GITHUB_HIGH_RISK_PATH_PATTERNS=
